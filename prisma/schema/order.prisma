model Order {
  id           String       @id @default(uuid())

  customerId   String
  customer     User         @relation(fields: [customerId], references: [id])

  providerId   String
  provider     ProviderProfile @relation(fields: [providerId], references: [id])

  status       OrderStatus  @default(PENDING)

  totalAmount  Float
  paymentStatus PaymentStatus @default(PENDING)

  orderItems   OrderItem[]

  review       Review[]

  createdAt    DateTime     @default(now())
  updatedAt    DateTime     @updatedAt
}


model OrderItem {
  id        String  @id @default(uuid())

  orderId  String
  order    Order   @relation(fields: [orderId], references: [id])

  mealId   String
  meal     Meal    @relation(fields: [mealId], references: [id])

  quantity Int
  price    Float   // price at time of order

  createdAt DateTime @default(now())
}

enum OrderStatus {
  PENDING
  CONFIRMED
  PREPARING
  OUT_FOR_DELIVERY
  DELIVERED
  CANCELLED
}

enum PaymentStatus {
  PENDING
  PAID
  FAILED
}
